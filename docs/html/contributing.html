
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Contributing to the documentation</title><meta name="generator" content="MATLAB 9.6"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2020-03-13"><meta name="DC.source" content="contributing.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>Contributing to the documentation</h1><!--introduction--><p>These docs are all made in MATLAB using the <a href="https://uk.mathworks.com/help/matlab/matlab_prog/publishing-matlab-code.html">publish</a> feature.  This page explains how to make changes to the docs so that they make it on the <a href="https://cortex-lab.github.io/Rigbox">Rigbox Documentation Website</a>.</p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Organization</a></li><li><a href="#2">File markup</a></li><li><a href="#3">Publishing changes</a></li><li><a href="#4">Committing changes to Github</a></li><li><a href="#5">Updating the Website</a></li><li><a href="#6">Tips:</a></li><li><a href="#8">Etc.</a></li></ul></div><h2 id="1">Organization</h2><p>There are two folders in 'rigbox/docs', one called 'scripts' which contains the source files that you can edit, and one called 'html', which contains the exported html copies, as well as any images you want to add.</p><p>The home page can be found in 'index.m'.  This script should have links to all other pages in the documentation for easy navigation.</p><h2 id="2">File markup</h2><p>MATLAB has a rather idiosyncratic markup syntax which takes some getting used to.  For an informative guide on how to format things correctly in your scripts, see their <a href="https://uk.mathworks.com/help/matlab/matlab_prog/marking-up-matlab-comments-for-publishing.html">markup guide</a>.</p><h2 id="3">Publishing changes</h2><p>The scripts folder contains one special function called <tt>fixFiles</tt> which will export the scripts for you and also do some optional post-processing.</p><pre class="codeinput">help <span class="string">fixFiles</span>
</pre><h2 id="4">Committing changes to Github</h2><p>In order to avoid overwriting other people's changes, please commit any documentation changes to the 'documentation' branch Rigbox.  Please don't commit any changes that affect actual Rigbox code, only files in the 'docs' folder or function docstrings.  Any other changes should be made on a feature branch off dev (see <a href="CONTRIBUTING.md">CONTRIBUTING.md</a> for more details). Below are some steps to follow when making minor changes:</p><div><ol><li>Switch to the documentation branch by running <tt>git checkout origin/documentation</tt></li><li>Make your changes to one of the scripts, e.g. index.m.  At the bottom of the page, make sure the version number is increased, e.g. 0.1.3 -&gt; 0.1.4</li><li>Publish them by calling <tt>fixFiles('changed')</tt></li><li>Check that your changes look OK by opening the changed files in your browser, e.g. docs/html/index.html.  This is important because the markup can sometimes not work as expected.</li><li>In Git Bash run <tt>git pull</tt> to make sure your local branch is fully up-to-date with the remote one.</li><li>Commit your changes to the branch by running e.g. <tt>git commit -am "Fixed typo in index.m"</tt></li><li>Push your local changes to the remote repository: <tt>git push</tt></li></ol></div><h2 id="5">Updating the Website</h2><p>The above steps will commit your changes to the documentation branch, which every so often will be merged into dev and master so that everyone's local documentation is the same.</p><p>To propogate these changes to the github.io site, we have to merge the documentation branch into the gh-pages branch following the below steps:</p><div><ol><li>Switch to the gh-pages branch: <tt>git checkout origin/gh-pages</tt></li><li>Fetch the latest changes from the documentation branch to make sure you're fully up-to-date: <tt>git fetch origin/documentation</tt></li><li>Merge the docmentation branch into gh-pages: <tt>git merge documentation</tt></li><li>Now copy all the files from Rigbox/docs/html to Rigbox/</li><li>Stage these modified doc files using git add, e.g. <tt>git add index.html</tt></li><li>Commit the changes.  The amend flag can be used here: <tt>git commit --amend</tt></li><li>Push the changes to the remote: <tt>git push</tt></li></ol></div><p>You may receive an email with a build warning saying something like 'The page build completed successfully, but returned the following warning for the `gh-pages` branch: It looks like you're using GitHub Pages to distribute binary files'.  This warning can be safely ignored.</p><p>Note that the files used by the Website have to be in the root directory of the gh-pages branch.  If your files aren't copied from the docs/html folder to the root folder they won't be visible on the Website.</p><p>If this seems daunting, you can simply leave your changes on the documentation branch and the changes will make their way to the write place when someone else pushes their edits.  Another option is to email me the edited script and I'll do it for you :)</p><h2 id="6">Tips:</h2><p>If you want to add a completely new page, simply create a new script in docs/scripts (e.g. 'how_to_blah.m' - you can call it anything), then add a link to it in the 'index.m' script so people can find it.  Feel free to inter-link between files are much as possible.  Likewise you can add new sections to the index page with links to guides in a different order, e.g. you might want a list of pages for users setting up new rigs.</p><p>At the bottom of each file make sure there is an author and version. This helps people track changes to the documentation.</p><p>Links should be relative to the index page.  Starting with <tt>./</tt> means 'realtive to the current folder.  It's easiest to just keep all html files in one folder, then interlinking is kept simple.</p><p>There is an images folder in the html folder.  Some but not all of the images are here.  Linking to an image in the images folder works thus: <tt>./images/image_01.png</tt>.</p><p>By default the scripts exported with <tt>fixFiles</tt> do not execute any of the code.  If you want to export the output of the code in a script, add the name of the script to the `evalOn` array on (or near) line 42 of <tt>fixFiles</tt>, e.g.</p><pre class="codeinput"><span class="comment">% Files whose code should be evaluated</span>
evalOn = [<span class="string">"using_test_gui.m"</span>, <span class="string">"SignalsPrimer.m"</span>, <span class="string">"how_to_blah.m"</span>];
</pre><p>If you want to do some fancy post-processing to your file, e.g. add JavaScript or some feature that can't be done in the markup, add a section to <tt>fixFiles</tt> that loads the html file, edit the source code and write back into the file.  This will be executed each time the file is re-exported.</p><p>Sometimes MATLAB (or other programs) can prevent these files from being written to, or prevents Git from changing branches (you will see a message in Git Bash the following:</p><pre>  Unlink of file 'docs/html/how_to_blah.html' failed. Should I try again? (y/n)</pre><p>If this happens simply close MATLAB and any open pages in your browser, then try again.</p><h2 id="8">Etc.</h2><p>Author: Miles Wells</p><p>v0.0.1</p><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2019a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% Contributing to the documentation
% These docs are all made in MATLAB using the
% <https://uk.mathworks.com/help/matlab/matlab_prog/publishing-matlab-code.html
% publish> feature.  This page explains how to make changes to the docs so
% that they make it on the <https://cortex-lab.github.io/Rigbox Rigbox
% Documentation Website>.

%% Organization
% There are two folders in 'rigbox/docs', one called 'scripts' which
% contains the source files that you can edit, and one called 'html', which
% contains the exported html copies, as well as any images you want to add.
%
% The home page can be found in 'index.m'.  This script should have links
% to all other pages in the documentation for easy navigation. 

%% File markup
% MATLAB has a rather idiosyncratic markup syntax which takes some getting
% used to.  For an informative guide on how to format things correctly in
% your scripts, see their
% <https://uk.mathworks.com/help/matlab/matlab_prog/marking-up-matlab-comments-for-publishing.html
% markup guide>.

%% Publishing changes
% The scripts folder contains one special function called |fixFiles| which
% will export the scripts for you and also do some optional
% post-processing.
help fixFiles

%% Committing changes to Github
% In order to avoid overwriting other people's changes, please commit any
% documentation changes to the 'documentation' branch Rigbox.  Please don't
% commit any changes that affect actual Rigbox code, only files in the
% 'docs' folder or function docstrings.  Any other changes should be made
% on a feature branch off dev (see <CONTRIBUTING.md> for more details).
% Below are some steps to follow when making minor changes: 
%
% # Switch to the documentation branch by running |git checkout
% origin/documentation|
% # Make your changes to one of the scripts, e.g. index.m.  At the bottom
% of the page, make sure the version number is increased, e.g. 0.1.3 ->
% 0.1.4
% # Publish them by calling |fixFiles('changed')|
% # Check that your changes look OK by opening the changed files in your
% browser, e.g. docs/html/index.html.  This is important because the markup
% can sometimes not work as expected.
% # In Git Bash run |git pull| to make sure your local branch is fully
% up-to-date with the remote one.
% # Commit your changes to the branch by running e.g. |git commit -am
% "Fixed typo in index.m"|
% # Push your local changes to the remote repository: |git push|

%% Updating the Website
% The above steps will commit your changes to the documentation branch,
% which every so often will be merged into dev and master so that
% everyone's local documentation is the same.  
%
% To propogate these changes to the github.io site, we have to merge the
% documentation branch into the gh-pages branch following the below steps:
%
% # Switch to the gh-pages branch: |git checkout origin/gh-pages|
% # Fetch the latest changes from the documentation branch to make sure
% you're fully up-to-date: |git fetch origin/documentation|
% # Merge the docmentation branch into gh-pages: |git merge documentation|
% # Now copy all the files from Rigbox/docs/html to Rigbox/
% # Stage these modified doc files using git add, e.g. |git add index.html|
% # Commit the changes.  The amend flag can be used here: |git commit
% REPLACE_WITH_DASH_DASHamend|
% # Push the changes to the remote: |git push|
%
% You may receive an email with a build warning saying something like 'The
% page build completed successfully, but returned the following warning for
% the `gh-pages` branch: It looks like you're using GitHub Pages to
% distribute binary files'.  This warning can be safely ignored.  
% 
% Note that the files used by the Website have to be in the root directory
% of the gh-pages branch.  If your files aren't copied from the docs/html
% folder to the root folder they won't be visible on the Website.
%
% If this seems daunting, you can simply leave your changes on the
% documentation branch and the changes will make their way to the write
% place when someone else pushes their edits.  Another option is to email
% me the edited script and I'll do it for you :)

%% Tips:
% If you want to add a completely new page, simply create a new script in
% docs/scripts (e.g. 'how_to_blah.m' - you can call it anything), then add
% a link to it in the 'index.m' script so people can find it.  Feel free to
% inter-link between files are much as possible.  Likewise you can add new
% sections to the index page with links to guides in a different order,
% e.g. you might want a list of pages for users setting up new rigs. 
%
% At the bottom of each file make sure there is an author and version.
% This helps people track changes to the documentation.
%
% Links should be relative to the index page.  Starting with |./| means
% 'realtive to the current folder.  It's easiest to just keep all html
% files in one folder, then interlinking is kept simple.  
%
% There is an images folder in the html folder.  Some but not all of the
% images are here.  Linking to an image in the images folder works thus:
% |./images/image_01.png|.
%
% By default the scripts exported with |fixFiles| do not execute any of the
% code.  If you want to export the output of the code in a script, add the
% name of the script to the `evalOn` array on (or near) line 42 of
% |fixFiles|, e.g.

% Files whose code should be evaluated
evalOn = ["using_test_gui.m", "SignalsPrimer.m", "how_to_blah.m"];

%%%
% If you want to do some fancy post-processing to your file, e.g. add
% JavaScript or some feature that can't be done in the markup, add a
% section to |fixFiles| that loads the html file, edit the source code and
% write back into the file.  This will be executed each time the file is
% re-exported.  
%
% Sometimes MATLAB (or other programs) can prevent these files from being
% written to, or prevents Git from changing branches (you will see a
% message in Git Bash the following:
%
%    Unlink of file 'docs/html/how_to_blah.html' failed. Should I try again? (y/n)
%
% If this happens simply close MATLAB and any open pages in your browser,
% then try again.

%% Etc.
% Author: Miles Wells
%
% v0.0.1

##### SOURCE END #####
--></body></html>